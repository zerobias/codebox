service: codebox-rollup

package:
  exclude:
    - package.json
    - package-lock.json
    - node_modules/**
    - schema.graphql
    - yarn.lock
    - tsconfig.json
    - mapping-templates/**
    - tests/**
provider:
  name: aws
  runtime: nodejs10.x
  memorySize: 1024
  timeout: 30
  region: eu-west-1
  logs:
    restApi: true
functions:
  rollup:
    handler: dist/lambda.default
    layers:
      - {Ref: RollupDepsLambdaLayer}
    events:
      - http:
          path: /rollup
          method: post
          cors: true
layers:
  rollupDeps:
    path: src/rollupDeps
    description: Runtime deps for codebox rollup lambda
    compatibleRuntimes:
      - nodejs10.x
